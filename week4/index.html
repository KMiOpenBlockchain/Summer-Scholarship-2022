<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>2022 Summer Scholarship - Publish a Contract on the Ethereum blockchain</title>
	<link type='text/css' href="../main.css" rel='stylesheet'>
	<link href="./app.css" rel='stylesheet' type='text/css'>

	<script type="text/javascript" defer src="./app.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.2.0/ethers.umd.min.js" type="application/javascript"></script>
	<script src="https://www.w3schools.com/lib/w3.js"></script>
</head>

<body onload="initApp();">
	<div style="margin:0px; padding:0px;" w3-include-html="../header.html"></div>
	<main>
		<div class="holder">
			<h1>Summer Scholarship 2022 - Week 4: Publish a Contract on the Ethereum blockchain</h1>

			<div class="innerholder" style="padding-top:10px;">
				<div class="panel" style="clear:both; float: left;margin-top:20px;">
					<span>
						<h2>Connect to MetaMask (Select a testnet like Rinkby)</h2>
						<br />
						<button class="buttonmetamask" name="enableEthereumButton" id="enableEthereumButton" disabled="false" onclick="loginToMetaMask()">Connect to MetaMask</button>
						<span for="ethereumaccount">Ethereum Account: </span>
						<span id="ethereumaccount"></span>
						<br />
					</span>
				</div>
				<div class="panel" style="clear:both; float: left;margin-top:20px;">
					<span>
						<h2>Publish your Token Contract</h2>

						<p>The details entered and created below will be stored in your browser storage, as you will need them for Week 5. You may like to copy them somewhere safe yourself, just in case. </p>

						<label for="contractBytecode">Contract Bytecode:</label>
						<textarea name="contractBytecode" id="contractBytecode" class="textareastyle"></textarea>

						<label for="contractABI">Contract ABI:</label>
						<textarea name="contractABI" id="contractABI" class="textareastyle"></textarea>

						<br />
						<button class="buttonmetamask" name="tokenContractButton" id="tokenContractButton" onclick="publishContract()">Publish Contract</button>

						<br /><hr /><br />
						<label class="labelmid" for="contractTransactionNumber">Transaction Number:</label>   <input type="text" id="contractTransactionNumber" name="contractTransactionNumber" size="80" />
						<br /><br />
						<label class="labelmid" for="contractAddress">Contract Address:</label>   <input type="text" id="contractAddress" name="contractAddress" size="80" />
						<br /><br />
						<label for="tokenContractOutput">Full Transaction Details</label>
						<br />
						<textarea name="tokenContractOutput" id="tokenContractOutput" class="textareastyle"></textarea>
						<br /><br />
						<label for="network">Network Used:</label>
						<br />
						<textarea name="network" id="network" class="textareastyle"></textarea>

						<button id="storeDataButton" class="button" onclick="storeData()">Store Data</button>
					</span>
				</div>

				<div class="panel" style="clear:both; float: left;margin-top:20px;">
					<span>
						<h2>Stored Data &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button class="button" id="clearDataButton" name="clearDataButton" onclick="clearDataStore()">Clear Stored Data</button></h2>

						<table style="width: 100%">
							<thead style="background-color: lightgray">
								<tr>
									<th width="20">Date</th>
									<th width="10">Network</th>
									<th width="20">Contract Address</th>
									<th width="30">Transaction Number</th>
									<th width="10">Bytecode</th>
									<th width="10">ABI</th>
								</tr>
							</thead>
							<tbody id="storedDataTable" style="background-color: white;"></tbody>
						</table>
					</span>
				</div>
				<br /><br />
			</div>
		</div>
	</main>

	<div class="popup" id="popupDiv">
		<div class="popuptext"><pre id="popupText"></pre></div>
		<button class="button popupbutton" onclick="closePopup()">Close</button>
		<button class="button popupbutton" onclick="copyToClipboard()">Copy</button>
	</div>

	<div w3-include-html="../footer.html"></div>
	<script>w3.includeHTML();</script>

	<!-- Cookie Banner -->
	<script src="../cookiebanner.js"></script>	

</body>

</html>
