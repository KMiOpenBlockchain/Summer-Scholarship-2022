<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>2022 Summer Scholarship - Issue a Token for a TikTok Video</title>

	<link type='text/css' href="../main.css" rel='stylesheet'>
	<link href="./app.css" rel='stylesheet' type='text/css'>

	<script type="text/javascript" defer src="./app.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.2.0/ethers.umd.min.js" type="application/javascript"></script>
	<script src="https://www.w3schools.com/lib/w3.js"></script>
</head>

<body onload="initApp();">
	<div style="margin:0px; padding:0px;" w3-include-html="../header.html"></div>
	<main>
		<div class="holder">
			<h1>Summer Scholarship 2022 - Week 5: Issue a Token for a TikTok Video</h1>

			<div class="innerholder" style="padding-top:10px;">
				<div class="panel" style="clear:both; float: left;margin-top:20px;">
					<span>
						<h2>Connect to MetaMask (Select the network your contract is on!)</h2>
						<br />
						<button class="buttonmetamask" name="enableEthereumButton" id="enableEthereumButton" disabled="false" onclick="loginToMetaMask()">Connect to MetaMask</button>
						<span for="ethereumaccount">Ethereum Account: </span>
						<span id="ethereumaccount"></span>
						<br />
					</span>
				</div>
				<div class="panel" style="clear:both; float: left;margin-top:20px;">
					<span>
						<h2>Create a Token</h2>

						<p style="font-style:italic">Make sure you are on the correct Network in MetaMask before you Create your Token!</p>

						<h3>TikTok Token Contract Details</h3>
						<label for="contractAddress">TikTok Token Contract Address:</label><br />
						<input type="text" id="contractAddress" name="contractAddress" size="100" title="The blockchain address of your Token Contract" />
						<br /><br />

						<label for="contractABI">Contract ABI:</label>
						<textarea name="contractABI" id="contractABI" class="textareastyle"></textarea>

						<br /><hr />

						<h3>TikTok Token Details</h3>
						<p>
						Each Non-Fungible token represents a unique asset. In this instance a TikTok Movie.
						Each token needs a name, desciption and token image to represent that unique asset.
						<br>
						You also need additional metadata that anchors your TikTok video, e.g. a hash of the movie file, a url to your post, maybe also additional details like file size etc.
						<br><br>
						Please enter the details below to issue a token to represent your TikTok Video
						</p>
						<label for="tokenName">Token Name:</label><br />
						<input type="text" id="tokenName" name="tokenName" size="100" "A name for this Tik Tok Token">

						<br /><br />
						<label for="tokenDescription">Token Description:</label>
						<textarea class="textareastyle" id="tokenDescription" name="tokenDescription" title="A description for this Token"></textarea>

						<br /><br />
						<label for="tokenImageURL">Token Image URL:</label><br />
						<p>If you chose to select an image file it will load your image file onto the public IPFS network and create an image url for you. Please make sure you have ownership or check copyright for images you are uploading.</p>
						<label for="tokenImageFile">Choose a token image:</label>
						<br /><br />
						<input class="button" type="file" id="tokenImageFile" name="tokenImageFile" accept="image/*">
						<button class="button" id="loadImageButton" name="loadImageButton" onclick="loadImage()">Load Image Up To IPFS</button>

						<br /><br />
						OR enter a URL directly
						<br /><br />
						<input type="text" id="tokenImageURL" name="tokenImageURL" size="100" title="A url to an image for this Token" />

						<br /><br />
						<label for="movieMetaData">Token Metadata (as JSON):</label>
						<textarea name="movieMetaData" id="movieMetaData" class="textareastyle"></textarea>
						<br /><br />

						<button class="buttonmetamask" id="anchorMetadataTokenButton" disabled="true" onclick="createToken()">Create a Tik Tok Token</button>

						<br /><hr /><br />

						<label for="transactionReceipt">Blockchain Transaction Details</label>
						<br />
						<textarea id="transactionReceipt" class="textareastyle"></textarea>
						<br /><br />
						<label for="network">Network Used:</label>
						<br />
						<textarea name="network" id="network" class="textareastyle"></textarea>
						<br /><br />

						<h3>New Token Details</h3>
						<label class="labelmid" for="tokenID">Token ID:</label>   <input type="text" id="tokenID" name="tokenID" size="40" />
						<br /><br />
						<label class="labelmid" for="tokenURL">Token Metadata URL:</label>   <input type="text" id="tokenURL" name="tokenURL" size="160" />
					</span>
				</div>
				<div class="panel" style="clear:both; float: left;margin-top:20px;">
					<span>
						<h2>Stored Data &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button class="button" id="clearDataButton" name="clearDataButton" onclick="clearDataStore()">Clear Stored Data</button></h2>

						<table style="width: 100%">
							<thead style="background-color: lightgray">
								<tr>
									<th width="10%">Date</th>
									<th width="10%">Network</th>
									<th width="20%">Contract Address</th>
									<th width="10%">Contract ABI</th>
									<th width="10%">Token ID</th>
									<th width="20%">Token URL</th>
									<th width="10%">Token Receipt</th>
								</tr>
							</thead>
							<tbody id="storedDataTable" style="background-color: white;"></tbody>
						</table>

					</span>
				</div>
				<br /><br />
			</div>
		</div>
	</main>

	<div class="popup" id="popupDiv">
		<div class="popuptext"><pre id="popupText"></pre></div>
		<button class="button popupbutton" onclick="closePopup()">Close</button>
		<button class="button popupbutton" onclick="copyToClipboard()">Copy</button>
	</div>

	<div w3-include-html="../footer.html"></div>
	<script>w3.includeHTML();</script>

	<!-- Cookie Banner -->
	<script src="../cookiebanner.js"></script>	
</body>

</html>
